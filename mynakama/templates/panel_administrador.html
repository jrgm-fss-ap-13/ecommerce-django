
{% extends 'layouts/navthem.html' %}


{% block content%}
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">

<div class="container-custom">
    
    
    <div class="container-xl py-3">

      <div>
        <h2>Lista de Productos</h2>
      </div>
  
        <div class="row py-2">
          <div class="col-lg-8 col-sm-12 ">
            <form method="GET" class="d-flex align-items-center">
                <div class="">
                    <select name="anime">
                      <option value="">Seleccione anime</option>
                      {% for anime in animes %}
                      <option value="{{ anime.id_anime }}">{{ anime.nombre }}</option>
                      {% endfor %}
                    </select>
                </div>
              <div class="px-2">
                <select name="orderby">
                  <option value="">Ordenar por precio</option>
                  <option value="ascendente">Ascendente</option>
                  <option value="descendente">Descendente</option>
                </select>
              </div>
              <div class="px-2">
                <select name="orderbystock">
                  <option value="">Ordenar por Stock</option>
                  <option value="ascendente">Ascendente</option>
                  <option value="descendente">Descendente</option>
                </select>
              </div>
              <div>
                <button type="submit" class="btn btn-primary">Filtrar</button>
              </div>
            </form>
          </div>
          <div class="col-lg-4 col-sm-12  d-flex justify-content-end">
            <button class="btn mx-4 btn-primary btn-sm" data-toggle="modal" data-target="#myModal">Agregar</button>
          </div>
        </div>

        
    
    <table class="table table-striped table-bordered">
      <thead class="table-dark bg-dark">
          <tr>
            <th class="text-center" scope="col">ID Producto</th>
            <th class="text-center" scope="col">Nombre Producto</th>
            <th class="text-center" scope="col">Stock</th>
            <th class="text-center" scope="col">Precio</th>
            <th class="text-center" scope="col">Editar</th>
            <th class="text-center" scope="col">Eliminar</th>
          </tr>
        </thead>
        <tbody>
          <!-- Aquí puedes iterar sobre tus datos y generar las filas de la tabla -->
          {% for producto in productos %}
          <tr>
            <td class="text-center">{{ producto.id_producto }}</td>
            <td>{{ producto.nombre_producto }}</td>
            <td class="text-center">{{ producto.stock }}</td>
            <td class="text-center">${{ producto.precio }}</td>
            <td class="text-center">
              <button class="btn btn-primary btn-sm" data-toggle="modal" data-target="#editModal">Editar</button>
            </td>
            <td class="text-center">
              <form action="{% url 'cambiar_estado_producto' producto.id_producto %}">
                <button class="btn btn-primary btn-sm">Eliminar</button>
              </form>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
</div>


<div style="height: 290px;">

</div>


<!-- Modal button AGREGAR-->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <!-- Contenido del modal -->
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Agregar Producto:</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
       
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
        <button type="button" class="btn btn-primary">Guardar cambios</button>
      </div>
    </div>
  </div>
</div>


<!-- Modal button EDITAR -->
<div class="modal fade" id="editModal" tabindex="-1" role="dialog" aria-labelledby="editModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <!-- Contenido del modal -->
      <div class="modal-header">
        <h5 class="modal-title" id="editModalLabel">Editar información</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p>Contenido del modal de edición...</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
        <button type="button" class="btn btn-primary">Guardar cambios</button>
      </div>
    </div>
  </div>
</div>


{%endblock%}
